digraph G {
    s0 [label="s0", color="#000000", fontcolor="#000000"];
    s1 [label="s1", color="#000000", fontcolor="#000000"];
    s2 [label="s2", color="#000000", fontcolor="#000000"];
    <% if (featureExtraNode) { %>
      s3 [label="s3", color="#000000", fontcolor="#000000"];
    <% } %>
  
    <% if (featureFindVillain) { %>
      s0 -> s1 [label="findVillain", color="black", fontcolor="black"];
    <% } %>
    <% if (featureSmash) { %>
      s1 -> s2 [label="smash", color="blue", fontcolor="blue"];
    <% } %>
    <% if (featureFireRocket) { %>
      s1 -> s2 [label="fireRocket", color="green", fontcolor="green"];
    <% } %>
    <% if (featureReload) { %>
      s2 -> s1 [label="reload", color="green", fontcolor="green"];
    <% } %>
    <% if (featureFinishHim) { %>
      s2 -> s0 [label="finishHim", color="black", fontcolor="black"];
    <% } %>
    <% if (featureThrowHammer) { %>
      s2 -> s3 [label="throwHammer", color="red", fontcolor="red"];
    <% } %>
    <% if (featureRetrieveWeapon) { %>
      s3 -> s2 [label="retrieveWeapon", color="red", fontcolor="red"];
    <% } %>
  }
  